(function(a,d){typeof exports=="object"&&typeof module!="undefined"?module.exports=d():typeof define=="function"&&define.amd?define(d):(a=typeof globalThis!="undefined"?globalThis:a||self,a["tawk-messenger-vue-3"]=d())})(this,function(){"use strict";function a({propertyId:i="",widgetId:e="",embedId:t="",basePath:o="tawk.to"}){if(t.length){if(!document.getElementById(t)){const r=document.createElement("div");r.id=t,document.body.appendChild(r)}window.Tawk_API.embedded=t}const n=document.createElement("script");n.async=!0,n.src=`https://embed.${o}/${i}/${e}`,n.charset="UTF-8",n.setAttribute("crossorigin","*");const s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(n,s)}function d(i){return!i||i.length===0?!1:i!=null&&typeof i=="string"}class p{constructor(e,t){!d(t.propertyId)||!d(t.widgetId)||(this.app=e,this.propertyId=t.propertyId,this.widgetId=t.widgetId,this.embedId=t.embedId,this.customStyle=t.customStyle,this.basePath=t.basePath,this.load())}load(){!window||!document||(window.Tawk_API=window.Tawk_API||{},window.Tawk_LoadStart=new Date,a({propertyId:this.propertyId,widgetId:this.widgetId,embedId:this.embedId,basePath:this.basePath}),this.init())}init(){this.customStyle&&typeof this.customStyle=="object"&&(window.Tawk_API.customStyle=this.customStyle),typeof this.app=="object"&&(this.provideActions(),this.provideGetters(),this.provideListeners(),this.provideSetters())}provideActions(){this.app.provide("maximize",()=>{window.Tawk_API.maximize()}),this.app.provide("minimize",()=>{window.Tawk_API.minimize()}),this.app.provide("toggle",()=>{window.Tawk_API.toggle()}),this.app.provide("popup",()=>{window.Tawk_API.popup()}),this.app.provide("showWidget",()=>{window.Tawk_API.showWidget()}),this.app.provide("hideWidget",()=>{window.Tawk_API.hideWidget()}),this.app.provide("toggleVisibility",()=>{window.Tawk_API.toggleVisibility()}),this.app.provide("endChat",()=>{window.Tawk_API.endChat()})}provideGetters(){this.app.provide("getWindowType",()=>window.Tawk_API.getWindowType()),this.app.provide("getStatus",()=>window.Tawk_API.getStatus()),this.app.provide("isChatMaximized",()=>window.Tawk_API.isChatMaximized()),this.app.provide("isChatMinimized",()=>window.Tawk_API.isChatMinimized()),this.app.provide("isChatHidden",()=>window.Tawk_API.isChatHidden()),this.app.provide("isChatOngoing",()=>window.Tawk_API.isChatOngoing()),this.app.provide("isVisitorEngaged",()=>window.Tawk_API.isVisitorEngaged()),this.app.provide("onLoaded",()=>window.Tawk_API.onLoaded),this.app.provide("onBeforeLoaded",()=>window.Tawk_API.onBeforeLoaded),this.app.provide("widgetPosition",()=>window.Tawk_API.widgetPosition())}provideListeners(){this.app.provide("onLoad",e=>{window.addEventListener("tawkLoad",()=>{e()})}),this.app.provide("onStatusChange",e=>{window.addEventListener("tawkStatusChange",t=>{e(t.detail)})}),this.app.provide("onBeforeLoad",e=>{window.addEventListener("tawkBeforeLoad",()=>{e()})}),this.app.provide("onChatMaximized",e=>{window.addEventListener("tawkChatMaximized",()=>{e()})}),this.app.provide("onChatMinimized",e=>{window.addEventListener("tawkChatMinimized",()=>{e()})}),this.app.provide("onChatHidden",e=>{window.addEventListener("tawkChatHidden",()=>{e()})}),this.app.provide("onChatStarted",e=>{window.addEventListener("tawkChatStarted",()=>{e()})}),this.app.provide("onChatEnded",e=>{window.addEventListener("tawkChatEnded",()=>{e()})}),this.app.provide("onPrechatSubmit",e=>{window.addEventListener("tawkPrechatSubmit",t=>{e(t.detail)})}),this.app.provide("onOfflineSubmit",e=>{window.addEventListener("tawkOfflineSubmit",t=>{e(t.detail)})}),this.app.provide("onChatMessageVisitor",e=>{window.addEventListener("tawkChatMessageVisitor",t=>{e(t.detail)})}),this.app.provide("onChatMessageAgent",e=>{window.addEventListener("tawkChatMessageAgent",t=>{e(t.detail)})}),this.app.provide("onChatMessageSystem",e=>{window.addEventListener("tawkChatMessageSystem",t=>{e(t.detail)})}),this.app.provide("onAgentJoinChat",e=>{window.addEventListener("tawkAgentJoinChat",t=>{e(t.detail)})}),this.app.provide("onAgentLeaveChat",e=>{window.addEventListener("tawkAgentLeaveChat",t=>{e(t.detail)})}),this.app.provide("onChatSatisfaction",e=>{window.addEventListener("tawkChatSatisfaction",t=>{e(t.detail)})}),this.app.provide("onVisitorNameChanged",e=>{window.addEventListener("tawkVisitorNameChanged",t=>{e(t.detail)})}),this.app.provide("onFileUpload",e=>{window.addEventListener("tawkFileUpload",t=>{e(t.detail)})}),this.app.provide("onTagsUpdated",e=>{window.addEventListener("tawkTagsUpdated",t=>{e(t.detail)})}),this.app.provide("onUnreadCountChanged",e=>{window.addEventListener("tawkUnreadCountChanged",t=>{e(t.detail)})})}provideSetters(){this.app.provide("visitor",e=>{window.Tawk_API.visitor(e)}),this.app.provide("setAttributes",(e,t)=>{window.Tawk_API.setAttributes(e,t)}),this.app.provide("addEvent",(e,t,o)=>{window.Tawk_API.addEvent(e,t,o)}),this.app.provide("addTags",(e,t)=>{window.Tawk_API.addTags(e,t)}),this.app.provide("removeTags",(e,t)=>{window.Tawk_API.removeTags(e,t)})}}var w={install:(i,e={})=>{if(!d(e.propertyId)){console.error("[Tawk-messenger-vue warn]: You didn't specified 'propertyId' property in the plugin.");return}if(!d(e.widgetId)){console.error("[Tawk-messenger-vue warn]: You didn't specified 'widgetId' property in the plugin.");return}new p(i,e)}};return w});
